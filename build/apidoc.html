<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://sailsjs.org"

    >sails (v0.12.13)</a>
</h1>
<h4>API-driven framework for building realtime apps, using MVC conventions (based on Express and Socket.io)</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.sails">module sails</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.view">
            function <span class="apidocSignatureSpan">sails.</span>view
            <span class="apidocSignatureSpan">(name, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails.</span>_commander</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails.</span>actionUtil</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails.</span>view.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.sails._commander">module sails._commander</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">sails._commander.</span>_allowUnknownOption</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails._commander.Command">
            function <span class="apidocSignatureSpan">sails._commander.</span>Command
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails._commander.Option">
            function <span class="apidocSignatureSpan">sails._commander.</span>Option
            <span class="apidocSignatureSpan">(flags, description)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails._commander.unknownOption">
            function <span class="apidocSignatureSpan">sails._commander.</span>unknownOption
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails._commander.usageMinusWildcard">
            function <span class="apidocSignatureSpan">sails._commander.</span>usageMinusWildcard
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails._commander.versionInformation">
            function <span class="apidocSignatureSpan">sails._commander.</span>versionInformation
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails._commander.</span>_args</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails._commander.</span>_execs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails._commander.</span>commands</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">sails._commander.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">sails._commander.</span>_name</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">sails._commander.</span>_usage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">sails._commander.</span>_version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.sails.actionUtil">module sails.actionUtil</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parseCriteria">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseCriteria
            <span class="apidocSignatureSpan">( req )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parseLimit">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseLimit
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parseModel">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseModel
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parsePk">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parsePk
            <span class="apidocSignatureSpan">( req )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parseSkip">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseSkip
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parseSort">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseSort
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.parseValues">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseValues
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.populateModel">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>populateModel
            <span class="apidocSignatureSpan">(query, model)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.populateQuery">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>populateQuery
            <span class="apidocSignatureSpan">(query, associations, sails)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.populateRequest">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>populateRequest
            <span class="apidocSignatureSpan">(query, req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.requirePk">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>requirePk
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.actionUtil.subscribeDeep">
            function <span class="apidocSignatureSpan">sails.actionUtil.</span>subscribeDeep
            <span class="apidocSignatureSpan">( req, record )</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.sails.view">module sails.view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.view.view">
            function <span class="apidocSignatureSpan">sails.</span>view
            <span class="apidocSignatureSpan">(name, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.view.super_">
            function <span class="apidocSignatureSpan">sails.view.</span>super_
            <span class="apidocSignatureSpan">(name, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.sails.view.prototype">module sails.view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.sails.view.prototype.lookup">
            function <span class="apidocSignatureSpan">sails.view.prototype.</span>lookup
            <span class="apidocSignatureSpan">(viewPath)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.sails" id="apidoc.module.sails">module sails</a></h1>


    <h2>
        <a href="#apidoc.element.sails.view" id="apidoc.element.sails.view">
        function <span class="apidocSignatureSpan">sails.</span>view
        <span class="apidocSignatureSpan">(name, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SailsView(name, options) {
  ExpressView.call(this, name, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* [BUGFIX] Update validation rules from anchor [3649](https://github.com/balderdashy/sails/issues/3649)
* [BUGFIX] Respond with an error if attempting to use `req.file()` from a virtual request (i.e. when Skipper is not available).
And don&#x27;t pass in `res` when building the mock request, since it is not available yet. [3656](https://github.com/balderdashy
/sails/issues/3656)
* [BUGFIX] Fix incorrect handling of errors in responses hook.  Thanks [@tapuzzo-fsi](https://github.com/tapuzzo-fsi)! [3645](https
://github.com/balderdashy/sails/pull/3645)
* [BUGFIX] Fix error from `routeCorsConfig` sometimes being undefined [3662](https://github.com/balderdashy/sails/issues/3662)
* [INTERNAL] Replace `ready` event with an async `handleLift` lifecycle callback in order to simplify the behavior of `sails lift
` and ensure the timing of the &#x22;done&#x22; callback is correct when using it programmatically.
* [INTERNAL] Massive overhaul of tests.  See [b033f2d thru e85810a](https://github.com/balderdashy/sails/compare/71aa56db59129da58825b22f32030234a4f5ae2c
...b033f2d9af4953fd65c3e1bbb44ed4df15da1f68).
* [INTERNAL] Extrapolate ORM hook into sails-hook-orm.
* [INTERNAL] Force asynchronicity in the optional third argument of `res.<span class="apidocCodeKeywordSpan">view</span>()`/`res
.render()` to pave the way for better, request-agnostic view rendering methods.  This prevents double-calling of the callback if
 userland code throws an error.  Thanks [@lennym](https://github.com/lennym)! [cd413e15435947aa855e27aab16d9cd9e65ad493](https://
github.com/balderdashy/sails/commit/cd413e15435947aa855e27aab16d9cd9e65ad493)
* [ENHANCEMENT] Update version of i18n to `0.8.1` [3631](https://github.com/balderdashy/sails/pull/3631).
* [ENHANCEMENT] Improve auto-migrate prompt, and skip the prompt and log an info message instead if `sails.config.models.migrate
` is being automatically set to production anyways.  [sails-hook-orm/commit/3161c34edbe0aa07055f8665493734dda1688c2a](https://github
.com/balderdashy/sails-hook-orm/commit/3161c34edbe0aa07055f8665493734dda1688c2a)
* [ENHANCEMENT] Add production check in case sails-disk is being used, and experimental `sails.config.orm.skipProductionWarnings
` flag for preventing the warning. [sails-hook-orm/commit/9a0d46e135dadf00bc4576341624a31e50b12838](https://github.com/balderdashy
/sails-hook-orm/commit/9a0d46e135dadf00bc4576341624a31e50b12838)
* [INTERNAL] Don&#x27;t clone target function in expanded route syntax [6cfb2de](https://github.com/balderdashy/sails/commit/6cfb2de17ccafd789d4af001934b286bc189d1a4
)
* [BUGFIX] Replace naughty code in implicit default res.forbidden() response; relevant when api/responses/ is deleted. See #3667
 for more info. Thanks [@Biktop](https://github.com/biktop)!  [4767585994c45e7a7040402a057f0e41660d3419](https://github.com/balderdashy
/sails/commit/4767585994c45e7a7040402a057f0e41660d34)19
* [INCONSISTENCY] Fix embarassing old link that was being shown when you `console.log` the `sails` app instance.  Thanks [@wulfsolter
](https://github.com/wulfsolter) [52d45688fcfb6c4437348115f3e9c91595a8d379](https://github.com/balderdashy/sails/commit/52d45688fcfb6c4437348115f3e9c91595a8d379
)!
* [INTERNAL] Get rid of a whimsical little `--require` in mocha.opts that must have gotten lost.  Don&#x27;t ask us how it ended
 up there. Thanks [@markelog](https://github.com/markelog)! [06837a53b48352de7c46a1be84e87e28a084ffe2](https://github.com/balderdashy
/sails/commit/06837a53b48352de7c46a1be84e87e28a084ffe2)
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.sails._commander" id="apidoc.module.sails._commander">module sails._commander</a></h1>




    <h2>
        <a href="#apidoc.element.sails._commander.Command" id="apidoc.element.sails._commander.Command">
        function <span class="apidocSignatureSpan">sails._commander.</span>Command
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Command(name) {
  this.commands = [];
  this.options = [];
  this._execs = {};
  this._allowUnknownOption = false;
  this._args = [];
  this._name = name || &#x27;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails._commander.Option" id="apidoc.element.sails._commander.Option">
        function <span class="apidocSignatureSpan">sails._commander.</span>Option
        <span class="apidocSignatureSpan">(flags, description)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Option(flags, description) {
  this.flags = flags;
  this.required = ~flags.indexOf(&#x27;&#x3c;&#x27;);
  this.optional = ~flags.indexOf(&#x27;[&#x27;);
  this.bool = !~flags.indexOf(&#x27;-no-&#x27;);
  flags = flags.split(/[ ,|]+/);
  if (flags.length &#x3e; 1 &#x26;&#x26; !/^[[&#x3c;]/.test(flags[1])) this.short = flags.shift();
  this.long = flags.shift();
  this.description = description || &#x27;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails._commander.unknownOption" id="apidoc.element.sails._commander.unknownOption">
        function <span class="apidocSignatureSpan">sails._commander.</span>unknownOption
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unknownOption = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails._commander.usageMinusWildcard" id="apidoc.element.sails._commander.usageMinusWildcard">
        function <span class="apidocSignatureSpan">sails._commander.</span>usageMinusWildcard
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">usageMinusWildcard = function () {
  program.commands = _.reject(program.commands, {
    _name: &#x27;*&#x27;
  });
  program.help();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


// $ sails
//
program.parse(process.argv);
var NO_COMMAND_SPECIFIED = program.args.length === 0;
if (NO_COMMAND_SPECIFIED) {
  program.<span class="apidocCodeKeywordSpan">usageMinusWildcard</span>();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails._commander.versionInformation" id="apidoc.element.sails._commander.versionInformation">
        function <span class="apidocSignatureSpan">sails._commander.</span>versionInformation
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">versionInformation = function () {
  program.emit(&#x27;version&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.sails.actionUtil" id="apidoc.module.sails.actionUtil">module sails.actionUtil</a></h1>


    <h2>
        <a href="#apidoc.element.sails.actionUtil.parseCriteria" id="apidoc.element.sails.actionUtil.parseCriteria">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseCriteria
        <span class="apidocSignatureSpan">( req )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseCriteria = function ( req ) {

  // Allow customizable blacklist for params NOT to include as criteria.
  req.options.criteria = req.options.criteria || {};
  req.options.criteria.blacklist = req.options.criteria.blacklist || [&#x27;limit&#x27;, &#x27;skip&#x27;, &#x27;sort&#x27;, &#x27;populate&#x27;];

  // Validate blacklist to provide a more helpful error msg.
  var blacklist = req.options.criteria &#x26;&#x26; req.options.criteria.blacklist;
  if (blacklist &#x26;&#x26; !isArray(blacklist)) {
    throw new Error(&#x27;Invalid `req.options.criteria.blacklist`. Should be an array of strings (parameter names.)&#x27;);
  }

  // Look for explicitly specified `where` parameter.
  var where = req.params.all().where;

  // If `where` parameter is a string, try to interpret it as JSON
  if (isString(where)) {
    where = tryToParseJSON(where);
  }

  // If `where` has not been specified, but other unbound parameter variables
  // **ARE** specified, build the `where` option using them.
  if (!where) {

    // Prune params which aren&#x27;t fit to be used as `where` criteria
    // to build a proper where query
    where = req.params.all();

    // Omit built-in runtime config (like query modifiers)
    where = _.omit(where, blacklist || [&#x27;limit&#x27;, &#x27;skip&#x27;, &#x27;sort&#x27;]);

    // Omit any params w/ undefined values
    where = _.omit(where, function(p) {
      if (isUndefined(p)) {return true;}
    });

    // Omit jsonp callback param (but only if jsonp is enabled)
    var jsonpOpts = req.options.jsonp &#x26;&#x26; !req.isSocket;
    jsonpOpts = isObject(jsonpOpts) ? jsonpOpts : { callback: JSONP_CALLBACK_PARAM };
    if (jsonpOpts) {
      where = _.omit(where, [jsonpOpts.callback]);
    }
  }

  // Merge w/ req.options.where.
  where = _.merge({}, req.options.where || {}, where) || undefined;

  // Check `WHERE` clause for unsupported usage.
  // (throws if bad structure is detected)
  validateWhereClauseStrict(where);

  // Return final `where`.
  return where;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.parseLimit" id="apidoc.element.sails.actionUtil.parseLimit">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseLimit
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseLimit = function (req) {
  var DEFAULT_LIMIT = req._sails.config.blueprints.defaultLimit || 30;
  var limit = req.param(&#x27;limit&#x27;) || (typeof req.options.limit !== &#x27;undefined&#x27; ? req.options.limit : DEFAULT_LIMIT);
  if (limit) { limit = +limit; }
  return limit;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.parseModel" id="apidoc.element.sails.actionUtil.parseModel">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseModel
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseModel = function (req) {

  // Ensure a model can be deduced from the request options.
  var model = req.options.model || req.options.controller;
  if (!model) throw new Error(util.format(&#x27;No &#x22;model&#x22; specified in route options.&#x27;));

  var Model = req._sails.models[model];
  if ( !Model ) throw new Error(util.format(&#x27;Invalid route option, &#x22;model&#x22;.\nI don\&#x27;t know about any models named: `%s`&#x27;,model));

  return Model;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.parsePk" id="apidoc.element.sails.actionUtil.parsePk">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parsePk
        <span class="apidocSignatureSpan">( req )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parsePk = function ( req ) {

  var pk = req.options.id || (req.options.where &#x26;&#x26; req.options.where.id) || req.param(&#x27;id&#x27;);

  // TODO: make this smarter...
  // (e.g. look for actual primary key of model and look for it
  //  in the absence of `id`.)
  // See coercePK for reference (although be aware it is not currently in use)

  // exclude criteria on id field
  pk = _.isPlainObject(pk) ? undefined : pk;
  return pk;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   * Parse primary key value from parameters.
   * Throw an error if it cannot be retrieved.
   *
   * @param  {Request} req
   * @return {Integer|String}
   */
  requirePk: function (req) {
    var pk = module.exports.<span class="apidocCodeKeywordSpan">parsePk</span>(req);

    // Validate the required `id` parameter
    if ( !pk ) {

var err = new Error(
&#x27;No `id` parameter provided.&#x27;+
&#x27;(Note: even if the model\&#x27;s primary key is not named `id`- &#x27;+
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.parseSkip" id="apidoc.element.sails.actionUtil.parseSkip">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseSkip
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseSkip = function (req) {
  var DEFAULT_SKIP = 0;
  var skip = req.param(&#x27;skip&#x27;) || (typeof req.options.skip !== &#x27;undefined&#x27; ? req.options.skip : DEFAULT_SKIP);
  if (skip) { skip = +skip; }
  return skip;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.parseSort" id="apidoc.element.sails.actionUtil.parseSort">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseSort
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseSort = function (req) {
  var sort = req.param(&#x27;sort&#x27;) || req.options.sort;
  if (isUndefined(sort)) {return undefined;}

  // If `sort` is a string, attempt to JSON.parse() it.
  // (e.g. `{&#x22;name&#x22;: 1}`)
  if (isString(sort)) {
    try {
      sort = JSON.parse(sort);
    }
    // If it is not valid JSON, then fall back to interpreting it as-is.
    // (e.g. &#x22;name ASC&#x22;)
    catch(e) {}
  }
  return sort;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.parseValues" id="apidoc.element.sails.actionUtil.parseValues">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>parseValues
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseValues = function (req) {

  // Allow customizable blacklist for params NOT to include as values.
  req.options.values = req.options.values || {};
  req.options.values.blacklist = req.options.values.blacklist;

  // Validate blacklist to provide a more helpful error msg.
  var blacklist = req.options.values.blacklist;
  if (blacklist &#x26;&#x26; !isArray(blacklist)) {
    throw new Error(&#x27;Invalid `req.options.values.blacklist`. Should be an array of strings (parameter names.)&#x27;);
  }

  // Start an array to hold values
  var values;

  // Make an array out of the request body data if it wasn&#x27;t one already;
  // this allows us to process multiple entities (e.g. for use with a &#x22;create&#x22; blueprint) the same way
  // that we process singular entities.
  var bodyData = isArray(req.body) ? req.body : [req.allParams()];

  // Process each item in the bodyData array, merging with req.options, omitting blacklisted properties, etc.
  var valuesArray = _.map(bodyData, function(element){
    var values;
    // Merge properties of the element into req.options.value, omitting the blacklist
    values = mergeDefaults(element, _.omit(req.options.values, &#x27;blacklist&#x27;));
    // Omit properties that are in the blacklist (like query modifiers)
    values = _.omit(values, blacklist || []);
    // Omit any properties w/ undefined values
    values = _.omit(values, function(p) {
      if (isUndefined(p)) {
        return true;
      }
    });

    return values;
  });

  // If req.body is an array, simply return our array of processed values
  if (isArray(req.body)) {return valuesArray;}

  // Otherwaise grab the first (and only) value from valuesArray
  values = valuesArray[0];

  // Omit jsonp callback param (but only if jsonp is enabled)
  var jsonpOpts = req.options.jsonp &#x26;&#x26; !req.isSocket;
  jsonpOpts = isObject(jsonpOpts) ? jsonpOpts : { callback: JSONP_CALLBACK_PARAM };
  if (jsonpOpts) {
    values = _.omit(values, [jsonpOpts.callback]);
  }

  return values;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.populateModel" id="apidoc.element.sails.actionUtil.populateModel">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>populateModel
        <span class="apidocSignatureSpan">(query, model)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">populateModel = function (query, model) {
  return actionUtil.populateQuery(query, model.associations);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.populateQuery" id="apidoc.element.sails.actionUtil.populateQuery">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>populateQuery
        <span class="apidocSignatureSpan">(query, associations, sails)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">populateQuery = function (query, associations, sails) {
  var DEFAULT_POPULATE_LIMIT = (sails &#x26;&#x26; sails.config.blueprints.defaultLimit) || 30;

  return _.reduce(associations, function(query, association) {
    return query.populate(association.alias, {
      limit: association.limit || DEFAULT_POPULATE_LIMIT
    });
  }, query);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      associations.push({
        alias: association.alias,
        limit: populationLimit
      });
    }
  });

  return actionUtil.<span class="apidocCodeKeywordSpan">populateQuery</span>(query, associations, req._sails);
},

/**
 * Given a Waterline query and Waterline model, populate the
 * appropriate/specified association attributes and return it
 * so it can be chained further ( i.e. so you can .exec() it )
 *
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.populateRequest" id="apidoc.element.sails.actionUtil.populateRequest">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>populateRequest
        <span class="apidocSignatureSpan">(query, req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">populateRequest = function (query, req) {
  var DEFAULT_POPULATE_LIMIT = req._sails.config.blueprints.defaultLimit || 30;
  var _options = req.options;
  var aliasFilter = req.param(&#x27;populate&#x27;);
  var shouldPopulate = _options.populate;

  // Convert the string representation of the filter list to an Array. We
  // need this to provide flexibility in the request param. This way both
  // list string representations are supported:
  //   /model?populate=alias1,alias2,alias3
  //   /model?populate=[alias1,alias2,alias3]
  if (typeof aliasFilter === &#x27;string&#x27;) {
    aliasFilter = aliasFilter.replace(/\[|\]/g, &#x27;&#x27;);
    aliasFilter = (aliasFilter) ? aliasFilter.split(&#x27;,&#x27;) : [];
  }

  var associations = [];

  _.each(_options.associations, function(association) {
    // If an alias filter was provided, override the blueprint config.
    if (aliasFilter) {
      shouldPopulate = _.contains(aliasFilter, association.alias);
    }

    // Only populate associations if a population filter has been supplied
    // with the request or if `populate` is set within the blueprint config.
    // Population filters will override any value stored in the config.
    //
    // Additionally, allow an object to be specified, where the key is the
    // name of the association attribute, and value is true/false
    // (true to populate, false to not)
    if (shouldPopulate) {
      var populationLimit =
        _options[&#x27;populate_&#x27; + association.alias + &#x27;_limit&#x27;] ||
        _options.populate_limit ||
        _options.limit ||
        DEFAULT_POPULATE_LIMIT;

      associations.push({
        alias: association.alias,
        limit: populationLimit
      });
    }
  });

  return actionUtil.populateQuery(query, associations, req._sails);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.requirePk" id="apidoc.element.sails.actionUtil.requirePk">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>requirePk
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requirePk = function (req) {
  var pk = module.exports.parsePk(req);

  // Validate the required `id` parameter
  if ( !pk ) {

    var err = new Error(
    &#x27;No `id` parameter provided.&#x27;+
    &#x27;(Note: even if the model\&#x27;s primary key is not named `id`- &#x27;+
    &#x27;`id` should be used as the name of the parameter- it will be &#x27;+
    &#x27;mapped to the proper primary key name)&#x27;
    );
    err.status = 400;
    throw err;
  }

  return pk;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.actionUtil.subscribeDeep" id="apidoc.element.sails.actionUtil.subscribeDeep">
        function <span class="apidocSignatureSpan">sails.actionUtil.</span>subscribeDeep
        <span class="apidocSignatureSpan">( req, record )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribeDeep = function ( req, record ) {
  _.each(req.options.associations, function (assoc) {

    // Look up identity of associated model
    var ident = assoc[assoc.type];
    var AssociatedModel = req._sails.models[ident];

    if (req.options.autoWatch) {
      AssociatedModel.watch(req);
    }

    // Subscribe to each associated model instance in a collection
    if (assoc.type === &#x27;collection&#x27;) {
      _.each(record[assoc.alias], function (associatedInstance) {
        AssociatedModel.subscribe(req, associatedInstance);
      });
    }
    // If there is an associated to-one model instance, subscribe to it
    else if (assoc.type === &#x27;model&#x27; &#x26;&#x26; record[assoc.alias]) {
      AssociatedModel.subscribe(req, record[assoc.alias]);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.sails.view" id="apidoc.module.sails.view">module sails.view</a></h1>


    <h2>
        <a href="#apidoc.element.sails.view.view" id="apidoc.element.sails.view.view">
        function <span class="apidocSignatureSpan">sails.</span>view
        <span class="apidocSignatureSpan">(name, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SailsView(name, options) {
  ExpressView.call(this, name, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* [BUGFIX] Update validation rules from anchor [3649](https://github.com/balderdashy/sails/issues/3649)
* [BUGFIX] Respond with an error if attempting to use `req.file()` from a virtual request (i.e. when Skipper is not available).
And don&#x27;t pass in `res` when building the mock request, since it is not available yet. [3656](https://github.com/balderdashy
/sails/issues/3656)
* [BUGFIX] Fix incorrect handling of errors in responses hook.  Thanks [@tapuzzo-fsi](https://github.com/tapuzzo-fsi)! [3645](https
://github.com/balderdashy/sails/pull/3645)
* [BUGFIX] Fix error from `routeCorsConfig` sometimes being undefined [3662](https://github.com/balderdashy/sails/issues/3662)
* [INTERNAL] Replace `ready` event with an async `handleLift` lifecycle callback in order to simplify the behavior of `sails lift
` and ensure the timing of the &#x22;done&#x22; callback is correct when using it programmatically.
* [INTERNAL] Massive overhaul of tests.  See [b033f2d thru e85810a](https://github.com/balderdashy/sails/compare/71aa56db59129da58825b22f32030234a4f5ae2c
...b033f2d9af4953fd65c3e1bbb44ed4df15da1f68).
* [INTERNAL] Extrapolate ORM hook into sails-hook-orm.
* [INTERNAL] Force asynchronicity in the optional third argument of `res.<span class="apidocCodeKeywordSpan">view</span>()`/`res
.render()` to pave the way for better, request-agnostic view rendering methods.  This prevents double-calling of the callback if
 userland code throws an error.  Thanks [@lennym](https://github.com/lennym)! [cd413e15435947aa855e27aab16d9cd9e65ad493](https://
github.com/balderdashy/sails/commit/cd413e15435947aa855e27aab16d9cd9e65ad493)
* [ENHANCEMENT] Update version of i18n to `0.8.1` [3631](https://github.com/balderdashy/sails/pull/3631).
* [ENHANCEMENT] Improve auto-migrate prompt, and skip the prompt and log an info message instead if `sails.config.models.migrate
` is being automatically set to production anyways.  [sails-hook-orm/commit/3161c34edbe0aa07055f8665493734dda1688c2a](https://github
.com/balderdashy/sails-hook-orm/commit/3161c34edbe0aa07055f8665493734dda1688c2a)
* [ENHANCEMENT] Add production check in case sails-disk is being used, and experimental `sails.config.orm.skipProductionWarnings
` flag for preventing the warning. [sails-hook-orm/commit/9a0d46e135dadf00bc4576341624a31e50b12838](https://github.com/balderdashy
/sails-hook-orm/commit/9a0d46e135dadf00bc4576341624a31e50b12838)
* [INTERNAL] Don&#x27;t clone target function in expanded route syntax [6cfb2de](https://github.com/balderdashy/sails/commit/6cfb2de17ccafd789d4af001934b286bc189d1a4
)
* [BUGFIX] Replace naughty code in implicit default res.forbidden() response; relevant when api/responses/ is deleted. See #3667
 for more info. Thanks [@Biktop](https://github.com/biktop)!  [4767585994c45e7a7040402a057f0e41660d3419](https://github.com/balderdashy
/sails/commit/4767585994c45e7a7040402a057f0e41660d34)19
* [INCONSISTENCY] Fix embarassing old link that was being shown when you `console.log` the `sails` app instance.  Thanks [@wulfsolter
](https://github.com/wulfsolter) [52d45688fcfb6c4437348115f3e9c91595a8d379](https://github.com/balderdashy/sails/commit/52d45688fcfb6c4437348115f3e9c91595a8d379
)!
* [INTERNAL] Get rid of a whimsical little `--require` in mocha.opts that must have gotten lost.  Don&#x27;t ask us how it ended
 up there. Thanks [@markelog](https://github.com/markelog)! [06837a53b48352de7c46a1be84e87e28a084ffe2](https://github.com/balderdashy
/sails/commit/06837a53b48352de7c46a1be84e87e28a084ffe2)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.sails.view.super_" id="apidoc.element.sails.view.super_">
        function <span class="apidocSignatureSpan">sails.view.</span>super_
        <span class="apidocSignatureSpan">(name, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function View(name, options) {
  options = options || {};
  this.name = name;
  this.root = options.root;
  var engines = options.engines;
  this.defaultEngine = options.defaultEngine;
  var ext = this.ext = extname(name);
  if (!ext &#x26;&#x26; !this.defaultEngine) throw new Error(&#x27;No default engine was specified and no extension was provided.&#x27;);
  if (!ext) name += (ext = this.ext = (&#x27;.&#x27; != this.defaultEngine[0] ? &#x27;.&#x27; : &#x27;&#x27;) + this.defaultEngine);
  this.engine = engines[ext] || (engines[ext] = require(ext.slice(1)).__express);
  this.path = this.lookup(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.sails.view.prototype" id="apidoc.module.sails.view.prototype">module sails.view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.sails.view.prototype.lookup" id="apidoc.element.sails.view.prototype.lookup">
        function <span class="apidocSignatureSpan">sails.view.prototype.</span>lookup
        <span class="apidocSignatureSpan">(viewPath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lookup = function (viewPath) {
  var viewExt = this.ext;
  var rootPath = this.root;

  // &#x3c;path&#x3e;.&#x3c;engine&#x3e;
  if (!expressUtils.isAbsolute(viewPath)) {
    viewPath = path.join(rootPath, viewPath);
  }
  if (exists(viewPath)) {
    return viewPath; //return globPath(viewPath)[0];
  }

  // &#x3c;path&#x3e;/index.&#x3c;engine&#x3e;
  viewPath = path.join(path.dirname(viewPath), path.basename(viewPath, viewExt), &#x27;index&#x27; + viewExt);
  if (exists(viewPath)) {
    return viewPath; //return globPath(path)[0];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
